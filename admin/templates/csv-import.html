{% extends 'base.html' %}
{% block title %}
Import JSON file
{% endblock %}

{% block body %}
<section id="cover" class="min-vh-100">
    <div id="cover-caption">
        <div class="container">
            <div class="row text-black">
                <div class="col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4">
                    <h6 class="py-2 text-truncate">Upload file with book examples in JSON format</h6>
                    <div class="px-2">
                        <form method="POST" action="" enctype="multipart/form-data" class="justify-content-center">
                            <div class="form-group custom-file">
                                <input class="custom-file-input btn btn-outline-success" type="file" name="file"
                                       id="myInput" aria-describedby="myInput">
                                <label class="custom-file-label" for="myInput">Choose file</label>
                            </div>
                            <div class="mt-3">
                                <input type="submit" class="btn btn-success btn-lg form-control" id="myButton" value="Add">
                            </div>
                        </form>

                    </div>
                </div>
            </div>
            <h5 style="text-align: center">Example of book in JSON format</h5>
            <div style="background-color: #EEEE">
                <pre>
                [
                    {
                        "title": "The Hour of the Dragon",
                        "author": {
                            "name": "Robert Ervin Howard",
                            "birthdate": "1906",
                            "death_date": "1936"
                        },
                        "year": "1935",
                        "publisher": "Weird Tales",
                        "language": "english",
                        "description": "Ryan  and Daisy  are just among the many students in the Filipino University Belt...",
                        "link_img": "http://ecx.images-amazon.com/images/I/61Y5cOdHJbL.jpg",
                        "pages": 567,
                        "genres": [
                            "Novels"
                        ],
                        "store_links": [
                            "https://www.ebay.com/search/$id=NhW06GTDql1W7bkl3OxoXQG1E0CQjK",
                            "https://www.learning-books.ua/books/?item=QPGTEFqJlEnE5bLKaRzx8",
                            "https://aliexpress.ru/page/?item=5IHPBTH3TgyosUUcWGDswIVV6jwaU7y",
                            "https://www.open-library.eng/search/?item=S8W8b1azSpdp8xS3jOKPzL"
                        ]
                    }
                ]</pre>
            </div>
        </div>
    </div>
</section>
        <script type="text/javascript">
        document.querySelector('.custom-file-input').addEventListener('change',function(e){
            let fileName = document.getElementById("myInput").files[0].name;
            let nextSibling = e.target.nextElementSibling;
            nextSibling.innerText = fileName
})
        </script>
{% endblock %}

